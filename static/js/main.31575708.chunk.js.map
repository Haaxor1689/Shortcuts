{"version":3,"sources":["Components/Styled/index.tsx","Theme/index.ts","Theme/GlobalStyles.tsx","Components/Styled/Typography.ts","Components/Styled/Reservations.tsx","Components/Styled/MobileBusDepartures.tsx","Components/Styled/DesktopBusDepartures.tsx","Hooks/useDeviceDetect.ts","App.tsx","serviceWorker.ts","index.tsx"],"names":["Box","shouldForwardProp","isPropValid","compose","space","color","layout","flex","flexGrow","flexShrink","flexBasis","justifySelf","alignSelf","order","gridColumn","gridRow","gridArea","position","typography","shadow","defaultProps","minWidth","Flex","flexbox","Grid","grid","justifyItems","alignItems","justifyContent","alignContent","theme","colors","primary","primaryLight","secondary","onLight","onDark","surface","background","error","breakpoints","FocusStyle","css","InvertFocusStyle","GlobalStyles","styles","Typography","styled","p","ellipsis","withComponent","Reservations","isMobile","useState","day","setDay","reservations","setReservations","useEffect","a","fetch","response","text","el","document","createElement","innerHTML","res","querySelector","nodes","Array","children","reduce","prev","node","last","length","head","slice","tagName","map","forEach","elem","replace","fetchData","bg","size","fontSize","fontWeight","ml","as","onClick","d","Math","max","min","gridTemplateRows","gridAutoColumns","gridAutoRows","mx","mb","dangerouslySetInnerHTML","__html","outerHTML","join","MobileBusDepartures","title","href","bus","setBus","querySelectorAll","flexDirection","DesktopBusDepartures","useDeviceDetect","useMemo","userAgent","window","navigator","Boolean","match","App","location","hostname","ReactDOM","render","getElementById","serviceWorker","ready","then","registration","unregister","catch","console","message"],"mappings":"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","file":"static/js/main.31575708.chunk.js","sourcesContent":["import styled from '@emotion/styled/macro';\nimport { ElementType } from 'react';\nimport {\n\tcolor,\n\tColorProps,\n\tcompose,\n\tflexbox,\n\tFlexboxProps,\n\tgrid,\n\tGridProps,\n\tlayout,\n\tLayoutProps,\n\tspace,\n\tSpaceProps,\n\tposition,\n\tPositionProps,\n\tTypographyProps,\n\ttypography,\n\tShadowProps,\n\tshadow,\n\tflex,\n\tflexGrow,\n\tflexShrink,\n\tflexBasis,\n\tjustifySelf,\n\talignSelf,\n\torder,\n\tgridColumn,\n\tgridRow,\n\tgridArea,\n\tjustifyItems,\n\talignItems,\n\tjustifyContent,\n\talignContent,\n} from 'styled-system';\nimport isPropValid from '@emotion/is-prop-valid';\n\ntype FlexSelfProps = Pick<\n\tFlexboxProps,\n\t| 'flex'\n\t| 'flexGrow'\n\t| 'flexShrink'\n\t| 'flexBasis'\n\t| 'justifySelf'\n\t| 'alignSelf'\n\t| 'order'\n>;\ntype GridSelfProps = Pick<GridProps, 'gridColumn' | 'gridRow' | 'gridArea'>;\ntype GridAlignProps = Pick<\n\tFlexboxProps,\n\t'justifyItems' | 'alignItems' | 'justifyContent' | 'alignContent'\n>;\n\ntype SSProps = SpaceProps &\n\tColorProps &\n\tLayoutProps &\n\tFlexSelfProps &\n\tGridSelfProps &\n\tPositionProps &\n\tTypographyProps &\n\tShadowProps;\n\nexport type BoxProps = Omit<SSProps, 'color'> & {\n\tas?: ElementType | keyof JSX.IntrinsicElements;\n};\nexport type FlexProps = BoxProps & FlexboxProps;\n\nexport const Box = styled('div', {\n\tshouldForwardProp: isPropValid,\n})<BoxProps>`\n\t${compose(\n\t\tspace,\n\t\tcolor,\n\t\tlayout,\n\t\tflex,\n\t\tflexGrow,\n\t\tflexShrink,\n\t\tflexBasis,\n\t\tjustifySelf,\n\t\talignSelf,\n\t\torder,\n\t\tgridColumn,\n\t\tgridRow,\n\t\tgridArea,\n\t\tposition,\n\t\ttypography,\n\t\tshadow,\n\t)}\n`;\n\nBox.defaultProps = {\n\tminWidth: 0,\n};\n\nexport const Flex = styled(Box)<FlexProps>`\n\t${compose(flexbox)}\n\tdisplay: flex;\n`;\n\nexport const Grid = styled(Box)<BoxProps & GridProps & GridAlignProps>`\n\t${compose(grid, justifyItems, alignItems, justifyContent, alignContent)}\n\tdisplay: grid;\n`;\n","import styled, { CreateStyled } from '@emotion/styled/macro';\n\nexport const theme = {\n\tcolors: {\n\t\tprimary: '#7e57c2',\n\t\tprimaryLight: '#b085f5',\n\t\tsecondary: '#546e7a',\n\t\tonLight: '#263238',\n\t\tonDark: '#fff',\n\t\tsurface: '#CFD8DC',\n\t\tbackground: '#fff',\n\t\terror: '#b00020',\n\t},\n\tbreakpoints: ['40em', '52em', '64em', '76em'],\n\tspace: [0, 4, 8, 16, 32, 64, 128, 256, 512],\n};\n\nexport type Theme = typeof theme;\n\nexport default styled as CreateStyled<Theme>;\n","import React from 'react';\nimport { Global, css } from '@emotion/core';\n\nimport { theme } from '.';\n\nexport const FocusStyle = css`\n\ttransition: box-shadow 0.2s ease-in-out;\n\tbox-shadow: 0 0 6px 1px ${theme.colors.primary};\n\toutline: none;\n`;\n\nexport const InvertFocusStyle = css`\n\tbox-shadow: 0 0 6px 1px white;\n\toutline: none;\n`;\n\nconst GlobalStyles = () => (\n\t<Global\n\t\tstyles={css`\n\t\t\tbody {\n\t\t\t\tmargin: 0;\n\t\t\t\tfont-family: 'Drive', 'Roboto', -apple-system, BlinkMacSystemFont,\n\t\t\t\t\t'Segoe UI', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans',\n\t\t\t\t\t'Helvetica Neue', sans-serif;\n\t\t\t\t-webkit-font-smoothing: antialiased;\n\t\t\t\t-moz-osx-font-smoothing: grayscale;\n\t\t\t\tcolor: ${theme.colors.onLight};\n\t\t\t}\n\n\t\t\t* {\n\t\t\t\tfont-family: 'Drive', 'Roboto', -apple-system, BlinkMacSystemFont,\n\t\t\t\t\t'Segoe UI', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans',\n\t\t\t\t\t'Helvetica Neue', sans-serif;\n\t\t\t}\n\n\t\t\t*:focus {\n\t\t\t\t${FocusStyle}\n\t\t\t}\n\n\t\t\tp {\n\t\t\t\tpadding: 0;\n\t\t\t\tmargin: ${theme.space[2]}px 0;\n\t\t\t}\n\n\t\t\tbutton {\n\t\t\t\tappearance: none;\n\t\t\t\tborder: none;\n\t\t\t\tbackground: none;\n\t\t\t\tpadding: ${theme.space[2]}px ${theme.space[3]}px;\n\t\t\t\tcolor: unset;\n\t\t\t\tcursor: pointer;\n\t\t\t}\n\n\t\t\t[data-reach-dialog-overlay] {\n\t\t\t\tz-index: 999;\n\t\t\t}\n\n\t\t\t[data-reach-dialog-content] {\n\t\t\t\tbackground-color: unset;\n\n\t\t\t\t:focus {\n\t\t\t\t\tbox-shadow: none;\n\t\t\t\t}\n\t\t\t}\n\t\t`}\n\t/>\n);\n\nexport default GlobalStyles;\n","import { css } from '@emotion/core';\n\nimport { Box, BoxProps } from 'Components/Styled';\n\nimport styled from 'Theme';\n\ntype Props = {\n\tellipsis?: boolean;\n};\n\nconst Typography = styled(Box)<BoxProps & Props>`\n\t${p =>\n\t\tp.ellipsis &&\n\t\tcss`\n\t\t\twhite-space: nowrap;\n\t\t\ttext-overflow: ellipsis;\n\t\t\toverflow: hidden;\n\t\t`}\n`.withComponent('p');\n\nexport default Typography;\n","/** @jsx jsx */\r\nimport { css, jsx } from '@emotion/core';\r\nimport { FC, Fragment, useEffect, useState } from 'react';\r\nimport { MdPool } from 'react-icons/md';\r\n\r\nimport { Theme } from 'Theme';\r\n\r\nimport { InvertFocusStyle } from 'Theme/GlobalStyles';\r\n\r\nimport Typography from './Typography';\r\n\r\nimport { Box, Flex, Grid } from '.';\r\n\r\ntype Props = {\r\n\tisMobile: boolean;\r\n};\r\n\r\nconst Reservations: FC<Props> = ({ isMobile }) => {\r\n\t// Swimming pool\r\n\tconst [day, setDay] = useState(0);\r\n\tconst [reservations, setReservations] = useState<Element[][]>([]);\r\n\tuseEffect(() => {\r\n\t\tconst fetchData = async () => {\r\n\t\t\tconst response = await fetch(\r\n\t\t\t\t'https://cors-anywhere.herokuapp.com/https://mpsl.sportujemevbrne.cz/rezervace',\r\n\t\t\t);\r\n\t\t\tconst text = await response.text();\r\n\t\t\tconst el = document.createElement('div');\r\n\t\t\tel.innerHTML = text;\r\n\t\t\tconst res = el.querySelector('.s-reservation .s-reservation__body');\r\n\t\t\tif (!res) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tconst nodes = Array(...res.children)\r\n\t\t\t\t.reduce<Element[][]>((prev, node) => {\r\n\t\t\t\t\tconst last = prev.length > 0 ? prev[prev.length - 1] : [];\r\n\t\t\t\t\tconst head = prev.slice(0, -1);\r\n\t\t\t\t\treturn node.tagName === 'H3'\r\n\t\t\t\t\t\t? [...head, last, [node]]\r\n\t\t\t\t\t\t: [...head, [...last, node]];\r\n\t\t\t\t}, [])\r\n\t\t\t\t.slice(1)\r\n\t\t\t\t.map(day => day.slice(0, -6));\r\n\r\n\t\t\tif (isMobile) {\r\n\t\t\t\tnodes.forEach(day =>\r\n\t\t\t\t\tday.forEach(elem => {\r\n\t\t\t\t\t\telem.innerHTML = elem.innerHTML\r\n\t\t\t\t\t\t\t?.replace(/(\\d+)-\\d+/g, '$1')\r\n\t\t\t\t\t\t\t?.replace(/(?:(?:délka)|(?:šířka))\\n.*(\\d+)/g, '$1');\r\n\t\t\t\t\t}),\r\n\t\t\t\t);\r\n\t\t\t}\r\n\r\n\t\t\tres && setReservations(nodes);\r\n\t\t};\r\n\t\tfetchData();\r\n\t}, [isMobile]);\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<Flex bg=\"secondary\" color=\"onDark\" p={3} alignItems=\"center\">\r\n\t\t\t\t<MdPool size={18} />\r\n\t\t\t\t<Typography fontSize={22} fontWeight=\"bold\" ml={2}>\r\n\t\t\t\t\tDráhy\r\n\t\t\t\t</Typography>\r\n\t\t\t\t<Box flexGrow={1} />\r\n\t\t\t\t<Typography\r\n\t\t\t\t\tas=\"button\"\r\n\t\t\t\t\tfontWeight=\"bold\"\r\n\t\t\t\t\tonClick={() => setDay(d => Math.max(--d, 0))}\r\n\t\t\t\t\tcss={css`\r\n\t\t\t\t\t\t:focus {\r\n\t\t\t\t\t\t\t${InvertFocusStyle}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t`}\r\n\t\t\t\t>\r\n\t\t\t\t\t{'<<'}\r\n\t\t\t\t</Typography>\r\n\t\t\t\t<Typography\r\n\t\t\t\t\tas=\"button\"\r\n\t\t\t\t\tfontWeight=\"bold\"\r\n\t\t\t\t\tonClick={() => setDay(d => Math.min(++d, reservations.length - 1))}\r\n\t\t\t\t\tcss={css`\r\n\t\t\t\t\t\t:focus {\r\n\t\t\t\t\t\t\t${InvertFocusStyle}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t`}\r\n\t\t\t\t>\r\n\t\t\t\t\t{'>>'}\r\n\t\t\t\t</Typography>\r\n\t\t\t</Flex>\r\n\t\t\t<Flex></Flex>\r\n\t\t\t{reservations && (\r\n\t\t\t\t<Grid\r\n\t\t\t\t\tgridTemplateRows=\"auto auto\"\r\n\t\t\t\t\tgridAutoColumns=\"1fr\"\r\n\t\t\t\t\tgridAutoRows={40}\r\n\t\t\t\t\tmx={[0, 3]}\r\n\t\t\t\t\tmb={3}\r\n\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t__html: reservations[day]\r\n\t\t\t\t\t\t\t?.map(el =>\r\n\t\t\t\t\t\t\t\tel.tagName === 'H3' || el.tagName === 'H4'\r\n\t\t\t\t\t\t\t\t\t? el.outerHTML\r\n\t\t\t\t\t\t\t\t\t: el.innerHTML,\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t.join(''),\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tcss={(theme: Theme) => css`\r\n\t\t\t\t\t\th3 {\r\n\t\t\t\t\t\t\tjustify-self: center;\r\n\t\t\t\t\t\t\ttext-transform: capitalize;\r\n\t\t\t\t\t\t\tgrid-column-start: 1;\r\n\t\t\t\t\t\t\tgrid-column-end: 18;\r\n\t\t\t\t\t\t\tmargin: ${theme.space[3]}px 0;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tdiv {\r\n\t\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\t\talign-items: center;\r\n\t\t\t\t\t\t\tjustify-content: center;\r\n\t\t\t\t\t\t\tpadding: ${theme.space[2]}px;\r\n\t\t\t\t\t\t\toverflow: hidden;\r\n\t\t\t\t\t\t\tfont-size: 14px !important;\r\n\t\t\t\t\t\t\ttext-align: center;\r\n\r\n\t\t\t\t\t\t\t@media (max-width: 650px) {\r\n\t\t\t\t\t\t\t\tfont-size: 9px !important;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\th4 {\r\n\t\t\t\t\t\t\tdisplay: none;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t`}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t</Fragment>\r\n\t);\r\n};\r\n\r\nexport default Reservations;\r\n","/** @jsx jsx */\r\nimport { jsx, css } from '@emotion/core';\r\nimport { FC, Fragment, useEffect, useState } from 'react';\r\nimport { MdDirectionsBus } from 'react-icons/md';\r\n\r\nimport { Theme } from 'Theme';\r\n\r\nimport Typography from './Typography';\r\n\r\nimport { Flex } from '.';\r\n\r\ntype Props = {\r\n\ttitle: string;\r\n\thref: string;\r\n};\r\n\r\nconst MobileBusDepartures: FC<Props> = ({ title, href }) => {\r\n\t// Bus\r\n\tconst [bus, setBus] = useState<Element[]>();\r\n\tuseEffect(() => {\r\n\t\tconst fetchData = async () => {\r\n\t\t\tconst response = await fetch(\r\n\t\t\t\t`https://cors-anywhere.herokuapp.com/https://t.idos.idnes.cz/vlakyautobusymhdvse/spojeni/${href}`,\r\n\t\t\t);\r\n\t\t\tconst text = await response.text();\r\n\t\t\tconst el = document.createElement('div');\r\n\t\t\tel.innerHTML = text;\r\n\t\t\tconst res = el.querySelectorAll('.panel-body');\r\n\t\t\tif (!res) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tsetBus(Array(...res).slice(0, 3));\r\n\t\t};\r\n\t\tfetchData();\r\n\t}, [href]);\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<Flex bg=\"secondary\" color=\"onDark\" p={3} alignItems=\"center\">\r\n\t\t\t\t<MdDirectionsBus size={18} />\r\n\t\t\t\t<Typography fontSize={22} fontWeight=\"bold\" ml={2}>\r\n\t\t\t\t\t{title}\r\n\t\t\t\t</Typography>\r\n\t\t\t</Flex>\r\n\t\t\t{bus && (\r\n\t\t\t\t<Flex\r\n\t\t\t\t\tflexDirection=\"column\"\r\n\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t__html: bus.map(el => el.outerHTML).join(''),\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tcss={(theme: Theme) => css`\r\n\t\t\t\t\t\t.panel-body * {\r\n\t\t\t\t\t\t\tcolor: ${theme.colors.onLight};\r\n\t\t\t\t\t\t\ttext-decoration: none;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t.panel-body {\r\n\t\t\t\t\t\t\tmargin-bottom: ${theme.space[3]}px;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t.r-mg-1 {\r\n\t\t\t\t\t\t\tpadding: ${theme.space[2]}px;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t.train-row {\r\n\t\t\t\t\t\t\tbackground-color: ${theme.colors.surface};\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t.station-row,\r\n\t\t\t\t\t\t.delay-row,\r\n\t\t\t\t\t\t.linkdist-row,\r\n\t\t\t\t\t\t.shorten {\r\n\t\t\t\t\t\t\tmargin-left: ${theme.space[2]}px;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t.shorten {\r\n\t\t\t\t\t\t\tmargin-top: 0;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t.delay-row * {\r\n\t\t\t\t\t\t\tcolor: ${theme.colors.primary};\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t.wwwtt,\r\n\t\t\t\t\t\t.fixed-code.fx-gray,\r\n\t\t\t\t\t\t.nodelay {\r\n\t\t\t\t\t\t\tdisplay: none;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t`}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t</Fragment>\r\n\t);\r\n};\r\n\r\nexport default MobileBusDepartures;\r\n","/** @jsx jsx */\r\nimport { jsx, css } from '@emotion/core';\r\nimport { FC, Fragment, useEffect, useState } from 'react';\r\nimport { MdDirectionsBus } from 'react-icons/md';\r\n\r\nimport { Theme } from 'Theme';\r\n\r\nimport Typography from './Typography';\r\n\r\nimport { Flex } from '.';\r\n\r\ntype Props = {\r\n\ttitle: string;\r\n\thref: string;\r\n};\r\n\r\nconst DesktopBusDepartures: FC<Props> = ({ title, href }) => {\r\n\t// Bus\r\n\tconst [bus, setBus] = useState<Element[]>();\r\n\tuseEffect(() => {\r\n\t\tconst fetchData = async () => {\r\n\t\t\tconst response = await fetch(\r\n\t\t\t\t`https://cors-anywhere.herokuapp.com/https://idos.idnes.cz/idsjmk/spojeni/vysledky/${href}`,\r\n\t\t\t);\r\n\t\t\tconst text = await response.text();\r\n\t\t\tconst el = document.createElement('div');\r\n\t\t\tel.innerHTML = text;\r\n\t\t\tconst res = el.querySelectorAll('.box.connection.detail-box');\r\n\t\t\tif (!res) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tsetBus(Array(...res));\r\n\t\t};\r\n\t\tfetchData();\r\n\t}, [href]);\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<Flex bg=\"secondary\" color=\"onDark\" p={3} alignItems=\"center\">\r\n\t\t\t\t<MdDirectionsBus size={18} />\r\n\t\t\t\t<Typography fontSize={22} fontWeight=\"bold\" ml={2}>\r\n\t\t\t\t\t{title}\r\n\t\t\t\t</Typography>\r\n\t\t\t</Flex>\r\n\t\t\t{bus && (\r\n\t\t\t\t<Flex\r\n\t\t\t\t\talignSelf=\"center\"\r\n\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t__html: bus.map(el => el.outerHTML).join(''),\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tcss={(theme: Theme) => css`\r\n\t\t\t\t\t\t.box.connection * {\r\n\t\t\t\t\t\t\tcolor: ${theme.colors.onLight};\r\n\t\t\t\t\t\t\ttext-decoration: none;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t.box.connection {\r\n\t\t\t\t\t\t\tmargin: ${theme.space[4]}px;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t.delay-bubble {\r\n\t\t\t\t\t\t\tcolor: ${theme.colors.primary} !important;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tul.stations {\r\n\t\t\t\t\t\t\tpadding-left: 0;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tli.item.active {\r\n\t\t\t\t\t\t\tdisplay: flex;\r\n\r\n\t\t\t\t\t\t\t* {\r\n\t\t\t\t\t\t\t\tmargin: 0;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t.station {\r\n\t\t\t\t\t\t\tpadding-left: ${theme.space[2]}px;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t.connection-head,\r\n\t\t\t\t\t\t.line-right-part,\r\n\t\t\t\t\t\t.trtype,\r\n\t\t\t\t\t\t.specs,\r\n\t\t\t\t\t\tinput,\r\n\t\t\t\t\t\t.reset.total,\r\n\t\t\t\t\t\t.connection-expand {\r\n\t\t\t\t\t\t\tdisplay: none;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t`}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t</Fragment>\r\n\t);\r\n};\r\n\r\nexport default DesktopBusDepartures;\r\n","import { useMemo } from 'react';\r\n\r\nconst useDeviceDetect = () =>\r\n\tuseMemo(() => {\r\n\t\tconst userAgent =\r\n\t\t\ttypeof window.navigator === 'undefined' ? '' : navigator.userAgent;\r\n\t\treturn Boolean(\r\n\t\t\tuserAgent.match(\r\n\t\t\t\t/Android|BlackBerry|iPhone|iPad|iPod|Opera Mini|IEMobile|WPDesktop/i,\r\n\t\t\t),\r\n\t\t);\r\n\t}, []);\r\n\r\nexport default useDeviceDetect;\r\n","import React, { FC } from 'react';\nimport { ThemeProvider } from 'emotion-theming';\n\nimport { Flex } from 'Components/Styled';\nimport Reservations from 'Components/Styled/Reservations';\nimport MobileBusDepartures from 'Components/Styled/MobileBusDepartures';\nimport DesktopBusDepartures from 'Components/Styled/DesktopBusDepartures';\n\nimport { theme } from 'Theme';\n\nimport useDeviceDetect from 'Hooks/useDeviceDetect';\n\nimport GlobalStyles from 'Theme/GlobalStyles';\n\nconst DesktopThereHref =\n\t'?f=Malinovsk%C3%A9ho%20n%C3%A1m%C4%9Bst%C3%AD&fc=302003&t=Sportovn%C3%AD&tc=302003';\nconst MobileThereHref =\n\t'?fromT=Malinovsk%C3%A9ho+n%C3%A1m%C4%9Bst%C3%AD&fromH=Malinovsk%C3%A9ho+n%C3%A1m%C4%9Bst%C3%AD%25302003%251417%25%2549.195544999999996%2516.61378125%25false%25&fromP=&fromMP=false&toT=Sportovn%C3%AD&toH=Sportovn%C3%AD%25302003%252323%25%2549.2121205%2516.607163%25false%25&toP=&toMP=&arrdep=false&arrH=false&date=&dateH=&time=&timeH=&af=false&afShow=false&viaT=&viaH=&viaP=&viaMP=&trtypeH_0=on&trtype_150=on&trtype_151=on&trtype_152=on&trtype_153=on&trtype_156=on&trtype_2=on&trtype_3=on&trtype_4=on&trtype_5=on&trtype_6=on&trtype_9=on&trtypeids=&maxChange=4&minTime=-1&cmd=cmdSearch';\n\nconst DesktopBackHref =\n\t'?f=Reissigova&fc=302003&t=Malinovského%20náměstí&tc=302003';\nconst MobileBackHref =\n\t'?fromT=Reissigova&fromH=Reissigova%25302003%252105%25%2549.21625399999999%2516.60403266666667%25false%25&fromP=&fromMP=false&toT=Malinovského+náměstí&toH=Malinovského+náměstí%25302003%251417%25%2549.195545%2516.61378125%25%25&toP=&toMP=false&arrdep=false&arrH=false&date=&dateH=&time=&timeH=&af=false&afShow=false&viaT=&viaH=&viaP=&viaMP=&trtypeH_0=on&trtype_150=on&trtype_151=on&trtype_152=on&trtype_153=on&trtype_156=on&trtype_2=on&trtype_3=on&trtype_4=on&trtype_5=on&trtype_6=on&trtype_9=on&trtypeids=&maxChange=4&minTime=-1&cmd=cmdSearch';\n\nconst App: FC = () => {\n\tconst isMobile = useDeviceDetect();\n\n\treturn (\n\t\t<ThemeProvider theme={theme}>\n\t\t\t<GlobalStyles />\n\t\t\t<Flex flexDirection=\"column\">\n\t\t\t\t{isMobile ? (\n\t\t\t\t\t<MobileBusDepartures title=\"Autobus tam\" href={MobileThereHref} />\n\t\t\t\t) : (\n\t\t\t\t\t<DesktopBusDepartures title=\"Autobus tam\" href={DesktopThereHref} />\n\t\t\t\t)}\n\t\t\t\t<Reservations isMobile={isMobile} />\n\t\t\t\t{isMobile ? (\n\t\t\t\t\t<MobileBusDepartures title=\"Autobus spať\" href={MobileBackHref} />\n\t\t\t\t) : (\n\t\t\t\t\t<DesktopBusDepartures title=\"Autobus spať\" href={DesktopBackHref} />\n\t\t\t\t)}\n\t\t\t</Flex>\n\t\t</ThemeProvider>\n\t);\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}